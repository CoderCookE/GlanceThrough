<section data-ng-controller="ArticlesController">
	<form class="form-horizontal col-lg-6" role="form" data-ng-submit="create()">
		<b>Bookmarklet</b>
			<a class = 'btn btn-warning' href = "javascript:
				var jqueryInject = document.createElement('script');
				jqueryInject.setAttribute('src','http://code.jquery.com/jquery-1.10.2.js');
				document.getElementsByTagName('body')[0].appendChild(jqueryInject);

				var bPopupInject = document.createElement('script');
				bPopupInject.setAttribute('src','https://raw.github.com/dinbror/bpopup/master/jquery.bpopup.min.js');
				document.getElementsByTagName('body')[0].appendChild(bPopupInject);

				var foundArticle = ('http://localhost:3000/articles/bookmarklet?url='+ encodeURIComponent(window.location));

				var createArticle = document.createElement('img');
				createArticle.setAttribute('src', foundArticle);
				document.getElementsByTagName('body')[0].appendChild(createArticle);
				createArticle.remove();

				var articleIframe = document.createElement('iframe');
				articleIframe.setAttribute('src', 'http://localhost:3000/#!/testpage');

				articleIframe.setAttribute('id', 'dialog');
				articleIframe.setAttribute('width', '80%');
				articleIframe.setAttribute('height', '350px');

				setTimeout(function(){
					document.getElementsByTagName('body')[0].appendChild(articleIframe);

					$('#dialog').bPopup({
						followSpeed: 'fast',
						onClose: function() {$('#dialog').remove()}
					});
				},400)
			">Add to GlanceThrough</a> Drag and Drop to Bookmarks Bar

		<div class="form-group">
			<div class="col-lg-10">
				<span ng-if="urlCheck" class="alert alert-danger">Invalid URL</span>
			</div>

			<div class="col-lg-10">
				<label for="urlToCheck" class="col-lg-2 control-label">URL</label>
			</div>

			<div class="col-lg-10">
				<input id = "urlToCheck" type = "text" autocomplete="on" class="form-control"  ng-model="urlToCheck"></input>
			</div>

			<div class="col-lg-10">
				<div id ="fetchArticle" class = "btn btn-default" ng-click="getByUrl()">Fetch Article</div>
				<div class = "btn btn-default" ng-click="getSummary()">Fetch Summary</div>
				<span>
					<div>
						<label for="sumLengthSlider">Summary Length</label>
						<input type="range" ng-model="summaryLength" ng-init="summaryLength=2"min="1" max="3" step="1" style="width: 140px" class="ng-valid ng-dirty" id = "sumLengthSlider" label ="test"></input>
						<label for="sumLengthSlider" ng-if="summaryLength==1">Short</label>
						<label for="sumLengthSlider" ng-if="summaryLength==2">Medium</label>
						<label for="sumLengthSlider" ng-if="summaryLength==3">Long</label>
					</div>
				</span>
			</div>
			<div class="col-lg-10">
			<label for="title" class="col-lg-2 control-label">Title</label>
		</div>
			<div class="col-lg-10">
				<input type="text" class="form-control" data-ng-model="title" id="title" placeholder="Title" required>
			</div>
			<div class="col-lg-10">
				<label for="content" class="col-lg-2 control-label">Content</label>
			</div>
			<div class="col-lg-10">
				<textarea data-ng-model="content" id="content" cols="30" rows="10" placeholder="Content" class="form-control" required></textarea>
			</div>

			<div class="col-lg-10">
				<button id="send" type="submit" class="btn btn-primary">Submit</button>
		</div>

		</div>